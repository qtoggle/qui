
@import (reference) "theme";


/* View itself */

.qui-structured-view {
    position: relative;
    margin: auto;
    box-sizing: border-box;
    overflow: hidden;
}


/* Top */

div.qui-structured-view-top {
    height: 2em;
    background: @background-color;
    text-align: left;
    text-overflow: ellipsis;
    overflow: hidden;
    white-space: nowrap;
    border-style: solid;
    border-color: @border-color;
    border-bottom-width: 0.0625em;
    position: relative;
    box-sizing: content-box;
}

.qui-structured-view.topless > div.qui-structured-view-top {
    display: none;
}

body:NOT(.small-screen) .qui-structured-view.no-large-screen-top:NOT(.minimizable) >  div.qui-structured-view-top {
    display: none;
}

.qui-structured-view.iconless > div.qui-structured-view-top {
    padding-left: 0.3em;
    line-height: 2em;
}

.qui-structured-view.large-top > div.qui-structured-view-top {
    height: 3em;
}

.qui-structured-view.iconless.large-top > div.qui-structured-view-top {
    padding-left: 0.5em;
    line-height: 3em;
}

.qui-structured-view.minimizable > div.qui-structured-view-top {
    color: @interactive-color;
}

.qui-structured-view.minimizable > div.qui-structured-view-top.active {
    background: @background-color;
    color: @interactive-active-color;
}

.qui-structured-view.minimizable > div.qui-structured-view-top.selected,
.qui-structured-view.minimizable > div.qui-structured-view-top.active {
    background-color: @interactive-color;
    color: @foreground-interactive-color;
}

body.small-screen > div.qui-main-container > div.qui-pages-container > div.qui-page > .qui-structured-view > div.qui-structured-view-top {
    display: none;  /* replaced by top bar title */
}


/* Title, icon & other top bar stuff */

span.qui-structured-view-title {
    vertical-align: middle;
}

.qui-structured-view.large-top > div.qui-structured-view-top > span.qui-structured-view-title {
    font-weight: bold;
}

div.qui-structured-view-icon {
    display: inline-block;
    vertical-align: middle;
    width: 2em;
    height: 2em;
}

.qui-structured-view.large-top > div.qui-structured-view-top > div.qui-structured-view-icon {
    margin: 0.5em;
}

.qui-structured-view.iconless > div.qui-structured-view-top > div.qui-structured-view-icon {
    display: none;
}

div.qui-structured-view-icon > div {
    transform: scale(0.75);
}

.qui-structured-view.large-top > div.qui-structured-view-top > div.qui-structured-view-icon > div {
    transform: none;
}

div.qui-structured-view-minimize-button {
    width: 2em;
    height: 2em;
    position: absolute;
    top: 0;
    right: 0;
    cursor: pointer;
    background: @background-color;
    box-sizing: content-box;
}

div.qui-structured-view-minimize-button.active {
    background: @background-color;
}

.qui-structured-view.large-top > div.qui-structured-view-top > div.qui-structured-view-minimize-button {
    width: 3em;
    height: 3em;
}

div.qui-structured-view-top > div.qui-structured-view-minimize-button > div {
    margin: 0.25em;
    transition: all @transition-duration ease;
    transform: rotate(180deg);
}

.qui-structured-view.large-top > div.qui-structured-view-top > div.qui-structured-view-minimize-button > div {
    margin: 0.5em;
}

.qui-structured-view.minimizable > div.qui-structured-view-top > div.qui-structured-view-minimize-button {
    background: transparent;
}

.qui-structured-view.minimized > div.qui-structured-view-top > div.qui-structured-view-minimize-button > div {
    transform: rotate(0deg);
}


/* Close button */

div.qui-structured-view-close-button {
    display: inline-block;
    width: 2em;
    height: 2em;
    position: absolute;
    top: 0;
    right: 0;
    cursor: pointer;
    background: @background-color;
    box-sizing: content-box;
}

div.qui-structured-view-close-button.active {
    background: @background-color;
}

div.qui-structured-view-top > div.qui-structured-view-close-button > div {
    margin: 0.25em;
}

.qui-structured-view.large-top > div.qui-structured-view-top > div.qui-structured-view-close-button {
    width: 3em;
    height: 3em;
}

.qui-structured-view.large-top > div.qui-structured-view-top > div.qui-structured-view-close-button > div {
    margin: 0.5em;
}


/* Don't cover top with progress glass */

body:NOT(.small-screen) .qui-progress-view:NOT(.topless) {

    & > div.qui-progress-view-glass {
        top: 2em;
    }

    &.large-top > div.qui-progress-view-glass {
        top: 3em;
    }

}


/* Body */

div.qui-structured-view-body {
    transition: height @transition-duration ease, opacity @transition-duration ease;
    overflow: hidden;
}


/* Bottom */

.qui-structured-view.minimized > div.qui-structured-view-bottom {
    display: none !important;
}


/* Unexpanded */

div.qui-page {

    & > .qui-structured-view.unexpanded {
        margin-top: 1em;
        margin-bottom: 1em;
        box-shadow: 0 0 0.35em 0 @floating-shadow-color;
        transition: margin-top @transition-duration ease;
        border-radius: 0.2em;
    }

    &.column-layout > .qui-structured-view.unexpanded {
        box-shadow: none;
        margin-top: 0;
        margin-bottom: 0;
    }

    body.small-screen div.qui-pages-container > & > .qui-structured-view.unexpanded {
        width: 100% !important;
        margin-top: 0;
        margin-bottom: 0;
        border-radius: 0;
        border-width: 0;
        box-shadow: none;
    }

}


/* Layout inside popup page */

body.small-screen > div.qui-global-glass > div.qui-global-glass-container > div.qui-page.popup > .qui-structured-view {
    width: 90% !important;
}

body:NOT(.small-screen) > div.qui-global-glass > div.qui-global-glass-container > div.qui-page.popup > .qui-structured-view {
    margin-top: 5em;
}
